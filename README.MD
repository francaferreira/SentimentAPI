<div align="left" style="position: relative;">
<img src="https://nocountry.tech/one.png" align="right" width="80" style="margin: auto;">
<img src="https://nocountry.tech/nocountry-logo.png" align="right" width="80" style="margin: 10px;">
<h1 style="padding-bottom: 2rem;" >SentimentAPI</h1>
<p align="left">
	<em>Transformando feedback bruto em intelig√™ncia de dados.</em>
</p>

</div>


## üìù Introdu√ß√£o 
A SentimentAPI √© uma API REST desenvolvida em Java com Spring Boot que realiza an√°lise de sentimentos em textos, classificando-os como Positivo, Negativo ou Neutro.

O sistema integra um modelo de Ci√™ncia de Dados treinado com t√©cnicas de Processamento de Linguagem Natural (NLP), permitindo que aplica√ß√µes consumam previs√µes de sentimento de forma autom√°tica por meio de requisi√ß√µes HTTP, com retorno em formato JSON.

O projeto foi desenvolvido como um MVP funcional, com foco na integra√ß√£o entre Back-end e Ci√™ncia de Dados, demonstrando uma solu√ß√£o aplic√°vel a cen√°rios reais de neg√≥cio.

## üéØ Problema de Neg√≥cio

Empresas recebem diariamente um grande volume de coment√°rios, avalia√ß√µes e feedbacks de clientes em canais como redes sociais, pesquisas de satisfa√ß√£o e plataformas de atendimento.

* A an√°lise manual dessas informa√ß√µes se torna invi√°vel com o aumento do volume de dados.
* A SentimentAPI oferece uma solu√ß√£o autom√°tica para:
* Identificar rapidamente elogios e reclama√ß√µes;
* Priorizar respostas a coment√°rios negativos;
* Acompanhar a percep√ß√£o da marca ao longo do tempo;
* Apoiar decis√µes nas √°reas de atendimento, marketing e opera√ß√µes.

## ‚öôÔ∏è Funcionalidades (MVP)
* **Classifica√ß√£o de Sentimento:** Identifica se um texto √© Positivo, Negativo ou Neutro.
* **Top Features:** Destaca as palavras-chave que mais influenciaram na decis√£o do modelo.
* **An√°lise em Lote (Batch):** Processamento de m√∫ltiplos coment√°rios via upload de arquivo CSV.
* **Hist√≥rico de An√°lises:** Registro persistente de todas as an√°lises realizadas.
* **Dashboard de Estat√≠sticas:** Vis√£o geral da distribui√ß√£o dos sentimentos processados.
* **Interface Web:** Front-end amig√°vel para intera√ß√£o direta com a API.
* **API REST:** Endpoints documentados para integra√ß√£o com outros sistemas.
* **Suporte Trilingue:** Processamento de textos em Portugu√™s, Ingl√™s e Espanhol.

# üß† Recursos de Data Science

A camada de intelig√™ncia do projeto foi desenvolvida utilizando **Python** e bibliotecas de **Machine Learning** focadas em Processamento de Linguagem Natural (NLP). Abaixo est√£o listados os recursos, algoritmos e t√©cnicas empregados para garantir a precis√£o do modelo h√≠brido (Finan√ßas + Atendimento).

## üõ†Ô∏è Tecnologias e Bibliotecas

| Recurso | Vers√£o/Tipo | Descri√ß√£o |
| :--- | :--- | :--- |
| **Linguagem** | Python 3.x | Linguagem base para desenvolvimento do modelo e scripts de automa√ß√£o. |
| **Scikit-learn** | Lib (Python) | Biblioteca principal para cria√ß√£o do Pipeline, Algoritmo de Classifica√ß√£o e M√©tricas. |
| **Pandas** | Lib (Python) | Manipula√ß√£o e estrutura√ß√£o dos datasets, limpeza de dados e inje√ß√£o da "Vacina". |
| **Numpy** | Lib (Python) | Processamento num√©rico de alta performance para vetores e matrizes. |
| **Skl2onnx** | Lib (Python) | Conversor respons√°vel por transformar o modelo Python em formato **.onnx**. |
| **ONNX** | Standard | *Open Neural Network Exchange*. Formato utilizado para exportar o modelo treinado para o Backend (Java). |

## ‚öôÔ∏è Arquitetura do Modelo

O modelo de An√°lise de Sentimentos utiliza uma arquitetura de aprendizado supervisionado composta por:

### 1. Pr√©-Processamento e Vetoriza√ß√£o
* **TF-IDF Vectorizer:** Transforma texto em n√∫meros baseando-se na frequ√™ncia e relev√¢ncia das palavras.
* **N-Grams (1, 2):** Configurado para entender palavras isoladas ("lucro") e pares de palavras ("n√£o lucro", "lucro l√≠quido") para captar contexto.
* **Multilanguage Support:** O modelo foi treinado para processar entradas tanto em **Portugu√™s (PT-BR)** quanto em **Ingl√™s (EN)** e em **Espanhol (ES)** simultaneamente.

### 2. Algoritmo Classificador
* **Logistic Regression:** Escolhido por sua efici√™ncia em classifica√ß√£o de texto e probabilidade calibrada.
    * *Solver:* `lbfgs`
    * *Max Iter:* 500
    * *Class Weight:* Ajustado via Oversampling manual.

## üß™ Engenharia de Dados e T√©cnicas Avan√ßadas

Para garantir a robustez do modelo em cen√°rios reais, foram aplicadas as seguintes t√©cnicas:

* **Balanceamento de Classes (Oversampling):**
    * T√©cnica utilizada para evitar o vi√©s da IA em dire√ß√£o √† classe neutra.
    * Duplica√ß√£o estrat√©gica de exemplos das classes minorit√°rias (Positivo e Negativo) para equilibrar o aprendizado.

* **Calibra√ß√£o Fina ("Vacina de Dados"):**
    * Inje√ß√£o manual de dados sint√©ticos (Data Augmentation) para corrigir erros espec√≠ficos de dom√≠nio.
    * Corre√ß√£o for√ßada para termos cr√≠ticos como *"Fal√™ncia"* (Negativo) e *"Incr√≠vel"* (Positivo).
    * Inclus√£o de g√≠rias e vocabul√°rio informal de Customer Service ("Lixo", "Maravilhoso").

## üìÇ Artefatos Gerados

* **`sentiment_model_multilang.onnx`**: Arquivo bin√°rio final contendo o modelo treinado e o vetorizador, pronto para ser consumido pela aplica√ß√£o Java sem necessidade de Python instalado no servidor.

--- 

# üíª Recursos de Back-end

O Back-end √© respons√°vel por gerenciar as requisi√ß√µes da API, validar os dados de entrada, integrar o modelo de Intelig√™ncia Artificial e retornar as previs√µes em formato JSON.

Ele atua como a camada intermedi√°ria entre as aplica√ß√µes clientes e o modelo de Ci√™ncia de Dados, garantindo comunica√ß√£o consistente, tratamento de erros e clareza nas respostas.

## üõ†Ô∏è Stack Tecnol√≥gico

| Recurso | Vers√£o/Tipo | Descri√ß√£o |
| :--- | :--- | :--- |
| **Java** | 21.x | Linguagem principal da aplica√ß√£o |
| **Spring Boot** | 4.x | Framework para constru√ß√£o da API REST |
| **Maven** | 3.9 | Gerenciamento de depend√™ncias e build |
| **ONNX Runtime** | 1.19.2 | Execu√ß√£o do modelo de Machine Learning |
| **Nginx** | 1.25+ | Proxy Reverso para servir o Frontend e rotear requisi√ß√µes |
| **Docker Compose** | 3.x | Orquestra√ß√£o dos containers (DB, API, Frontend) |
| **PostgreSQL** | 15-Alpine | Banco de dados para persist√™ncia de dados |
| **Flyway** | Latest | Gerenciamento de migra√ß√µes de banco de dados |
| **HTML/CSS/JS** | Vanilla | Interface Web leve e responsiva |

## üé® Front-end
O front-end da aplica√ß√£o foi desenvolvido utilizando tecnologias web padr√£o para garantir leveza e facilidade de manuten√ß√£o. Ele consome a API de an√°lise de sentimentos e apresenta os resultados de forma amig√°vel.
### üõ† Tecnologias Utilizadas
- **HTML5**: Estrutura√ß√£o sem√¢ntica das p√°ginas.
- **CSS3**: Estiliza√ß√£o responsiva e customizada (localizado em `styles/`).
- **JavaScript (Vanilla)**: L√≥gica de intera√ß√£o com o usu√°rio e requisi√ß√µes √† API (localizado em `scripts/`).
- **Nginx**: Servidor web utilizado para servir os arquivos est√°ticos na vers√£o containerizada.
- **Docker**: Containeriza√ß√£o da aplica√ß√£o front-end.
### üìÇ Estrutura de P√°ginas
- **Home (`index.html`)**: P√°gina inicial de apresenta√ß√£o do projeto.
- **An√°lise (`analyze.html`)**: Interface principal onde o usu√°rio pode:
  - Inserir texto manualmente para an√°lise de sentimento.
  - Fazer upload de arquivos `.csv` ou `.txt` para an√°lise em lote.
  - Visualizar a classifica√ß√£o (Positivo/Negativo/Neutro), probabilidade e palavras-chave.
- **Hist√≥rico (`history.html`)**: Visualiza√ß√£o de an√°lises anteriores.
- **Estat√≠sticas (`stats.html`)**: Dashboard com m√©tricas das an√°lises realizadas.

## üèóÔ∏è Arquitetura da Aplica√ß√£o

O sistema foi estruturado seguindo o padr√£o **MVC**, organizado da seguinte forma:

### 1. Camada de Controladores (API)
* **Fun√ß√£o:** Receber requisi√ß√µes HTTP e retornar respostas JSON.
* **Componentes:** Endpoints REST como `/sentiment`, `/sentiment/batch`.

### 2. Camada de Servi√ßos
* **Fun√ß√£o:**  Implementar a l√≥gica de neg√≥cio.
* **Integra√ß√£o IA:** Respons√°vel por carregar o modelo .onnx, preparar os dados de entrada e interpretar a sa√≠da do modelo (r√≥tulos, probabilidades e top features).

### 3. Camada de Dados
* **Fun√ß√£o:** Persist√™ncia das requisi√ß√µes e previs√µes.
* **Tecnologia:** PostgreSQL via Spring Data JPA.

### 4. Camada de Frontend
* **Fun√ß√£o:** Interface para usu√°rio final.
* **Hospedagem:** Servidor Nginx em container dedicado.

## üîå Integra√ß√µes e Seguran√ßa

Para garantir a robustez e a comunica√ß√£o do sistema, foram implementados:

* **Integra√ß√£o com Modelo ONNX:**
    * Carregamento do modelo serializado;
    * Convers√£o da sa√≠da num√©rica do modelo para r√≥tulos compreens√≠veis (Positivo, Neutro ou Negativo).

* **Valida√ß√£o de Entrada:**
    * Verifica√ß√£o da exist√™ncia do texto e tamanho m√≠nimo;
    * Retorno de mensagens de erro claras e amig√°veis.

* **Consist√™ncia de Respostas:**
    * Padroniza√ß√£o das respostas JSON, tanto para sucesso quanto para erro.
    * Valida√ß√£o de arquivos CSV para processamento em lote.

## üì° Endpoints da API

Abaixo os principais endpoints da aplica√ß√£o:

### 1. Analisar Texto √önico
* **URL:** `/sentiment`
* **M√©todo:** `POST`

#### Exemplo 1: Positivo
* **Corpo (JSON):**
```json
{
  "text": "O atendimento foi excelente e muito r√°pido."
}
```
* **Resposta (JSON):**
```json
{
  "label": "Positivo",
  "probability": 0.99,
  "topFeatures": ["excelente", "r√°pido", "atendimento"]
}
```

#### Exemplo 2: Negativo
* **Corpo (JSON):**
```json
{
  "text": "O produto chegou quebrado e o suporte n√£o ajudou."
}
```
* **Resposta (JSON):**
```json
{
  "label": "Negativo",
  "probability": 0.97,
  "topFeatures": ["quebrado", "suporte"]
}
```

#### Exemplo 3: Neutro
* **Corpo (JSON):**
```json
{
  "text": "Nem amei nem odiei, √© ok."
}
```
* **Resposta (JSON):**
```json
{
  "label": "Neutro",
  "probability": 1.00,
  "topFeatures": ["amei", "odiei"]
}
```

### 2. Analisar Lote (CSV)
* **URL:** `/sentiment/batch`
* **M√©todo:** `POST`
* **Consumes:** `multipart/form-data`
* **Par√¢metro:** `file` (Arquivo .csv - uma frase por linha)
* **Resposta:** Lista JSON com as an√°lises de cada linha.

### 3. Consultar Hist√≥rico
* **URL:** `/sentiment/history`
* **M√©todo:** `GET`
* **Par√¢metros:** `page`, `size` (Pagina√ß√£o)
* **Resposta:** Objeto Pageable com hist√≥rico de an√°lises.

### 4. Obter Estat√≠sticas
* **URL:** `/sentiment/stats`
* **M√©todo:** `GET`
* **Resposta:** Contagem total, percentuais de positivos/negativos/neutros.

## ‚öôÔ∏è Como Executar

Este projeto √© dividido em duas partes principais: **Ci√™ncia de Dados** (treinamento e exporta√ß√£o do modelo) e **Produ√ß√£o** (API e Aplica√ß√£o Web).

### Pr√©-requisitos
Certifique-se de ter as ferramentas abaixo instaladas:

*   **Java JDK 21+**: [Microsoft Build of OpenJDK](https://learn.microsoft.com/en-us/java/openjdk/download)
*   **Maven**: Ferramenta de build necess√°ria para compilar o projeto Java.
    *   [Download Maven](https://maven.apache.org/download.cgi)
*   **Docker Desktop**: Necess√°rio para rodar a aplica√ß√£o em containers.
    *   [Download Docker Desktop](https://www.docker.com/products/docker-desktop/)
*   **Python 3.8+**: Apenas se for executar os notebooks de Ci√™ncia de Dados.

---

### Passo 1: Ci√™ncia de Dados (Opcional se j√° tiver o .onnx)
Se voc√™ precisa retreinar o modelo ou explorar a an√°lise de dados, siga este fluxo. Caso contr√°rio, pule para o **Passo 2**.

1.  **Acesse a pasta de Data Science**:
    ```bash
    cd data-science
    ```

2.  **Instale as depend√™ncias Python**:
    Recomendamos o uso de um ambiente virtual (venv).
    ```bash
    pip install -r requirements.txt
    ```

3.  **Execute o Jupyter Notebook**:
    ```bash
    jupyter notebook
    ```
    *   Abra o arquivo `AnaliseDeSentimentos.ipynb`.
    *   Execute as c√©lulas para baixar o dataset, treinar o modelo e gerar o arquivo `sentiment_model_multilang.onnx`.
    *   Este arquivo `.onnx` √© automaticamente utilizado pela aplica√ß√£o Java (ele deve estar na pasta raiz ou no local configurado).

---

### Passo 2: Produ√ß√£o (Aplica√ß√£o Completa)
Para rodar a aplica√ß√£o completa (Banco de Dados + API + Frontend) utilizando Docker.

1.  **Compile o Projeto Java**:
    Antes de criar a imagem Docker, √© necess√°rio gerar o arquivo `.jar` da aplica√ß√£o. Na raiz do projeto, execute:
    ```bash
    mvn clean install
    ```
    *Isso baixar√° as depend√™ncias e criar√° o arquivo `application.jar` na pasta `target/`.*

2.  **Suba os Containers com Docker Compose**:
    ```bash
    docker-compose up --build
    ```
    *Isso iniciar√°:*
    *   üêò **PostgreSQL** (Porta 5432)
    *   ‚òï **Backend Java** (Porta 8080)
    *   üåê **Frontend Nginx** (Porta 80)

3.  **Acesse a Aplica√ß√£o**:
    *   Abra seu navegador em: **http://localhost**


---

## üì¶ Artefatos de Deploy

* application.jar: artefato execut√°vel da aplica√ß√£o.
* application.properties: arquivo de configura√ß√£o com vari√°veis de ambiente.
* docker-compose.yml: orquestra√ß√£o dos servi√ßos.

## ‚òÅÔ∏è Deploy em Produ√ß√£o (Oracle Cloud Infrastructure ‚Äì OCI)

O projeto foi implantado em ambiente de produ√ß√£o utilizando a **Oracle Cloud Infrastructure (OCI)**, garantindo escalabilidade, disponibilidade e uma infraestrutura robusta para execu√ß√£o da aplica√ß√£o completa.

A solu√ß√£o foi configurada com containers Docker, executando o back-end, front-end e banco de dados em nuvem, simulando um cen√°rio real de produ√ß√£o utilizado por aplica√ß√µes corporativas.

### Principais recursos utilizados na OCI:
- **Compute Instance (VM)**: Execu√ß√£o dos containers da aplica√ß√£o.
- **Docker & Docker Compose**: Orquestra√ß√£o dos servi√ßos em produ√ß√£o.
- **Rede Virtual (VCN)**: Isolamento e controle de acesso aos servi√ßos.
- **Portas e Seguran√ßa**: Configura√ß√£o de regras de firewall para acesso p√∫blico ao frontend e API.

### üåê Acesso √† aplica√ß√£o em produ√ß√£o:
üëâ [SentimentAPI](http://204.216.131.97/)

Atrav√©s desse link √© poss√≠vel acessar a interface web da aplica√ß√£o, realizar an√°lises de sentimento, processar arquivos em lote, consultar hist√≥rico e visualizar estat√≠sticas em tempo real.

## üì∫ Demonstra√ß√£o do Projeto (YouTube)

Disponibilizamos um v√≠deo demonstrativo apresentando o projeto de forma completa, abordando:

- Vis√£o geral da solu√ß√£o e do problema de neg√≥cio
- Explica√ß√£o da camada de **Data Science** (modelo, t√©cnicas e decis√µes)
- Arquitetura e funcionamento do **Back-end**
- Demonstra√ß√£o do **Front-end em funcionamento**
- Execu√ß√£o pr√°tica da an√°lise de sentimentos, incluindo:
  - Texto √∫nico
  - Processamento em lote (CSV)
  - Hist√≥rico e estat√≠sticas
- Aplica√ß√£o rodando em **ambiente de produ√ß√£o na Oracle Cloud Infrastructure (OCI)**

 **Assista ao v√≠deo:**  
üëâ [Sentiment API | Hackathon ONE II - Brasil](https://youtu.be/43Q5quqrRGU)

## üîó Links para recursos
* JDK Microsoft: https://learn.microsoft.com/en-us/java/openjdk/download
* VC++ Microsoft: https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170#latest-supported-redistributable-version 
* Onnx Runtime Documenta√ß√£o Java: https://onnxruntime.ai/docs/get-started/with-java

## üë• Integrantes

Time respons√°vel pelo desenvolvimento da solu√ß√£o:

| **Backend Developers** ‚òï | **Data Scientists** üìä |
| :--- | :--- |
| [Julio Clepf de Carvalho](https://www.linkedin.com/in/julio-clepf/) | [Carolini Rufino dos Santos](https://www.linkedin.com/in/carolinirufino) |
| [Laura Tenan](https://www.linkedin.com/in/laura-tenan/) | [Cau√£ Santos](https://linkedin.com/in/cauasantoslt) | 
| [Keila De Oliveira Nunes](https://www.linkedin.com/in/keilanunes-dev) | [Jefferson Franca Ferreira](https://www.linkedin.com/in/jefferson-ferreira-ds/) |
| [Pedro Henrique de Assis Ferreira](https://www.linkedin.com/in/phaferreira/) | 
| [Rafael Silva Nunes](https://www.linkedin.com/in/rafaelsilvanunes) | 
